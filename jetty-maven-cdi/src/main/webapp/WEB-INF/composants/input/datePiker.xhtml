<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:composite="http://java.sun.com/jsf/composite">

	<c:if test="#{empty id}">
		<ui:param var="id" name="id" value="#{fn:replace(label, ' ', '-')}"  />
		<ui:param var="id" name="id" value="#{fn:replace(id, '\\.', '')}" />
		<ui:param var="id" name="id" value="#{fn:toLowerCase(id)}" />
	</c:if>

	<h:panelGroup layout="block" styleClass="form-group" rendered="#{(empty rendered)?true:rendered}">
		
		<div class="input-group input-group-sm date datepicker" id="input-group-datepicker-#{id}" data-target-input="nearest" >
			<!-- label -->
			<div class="input-group-prepend ">
				<p:outputLabel id="label-#{id}"
				styleClass="input-group-text w-100 " for="input-#{id}" value="#{label}"  />	
			</div>
		
			<input type="text"  jsf:id="input-#{id}" jsf:label="#{label}" jsf:value="#{value}" 
			jsf:styleClass="form-control datetimepicker-input"
			aria-label="#{label}"  aria-labelledby="label-#{id}" aria-describedby="input-group-datepicker-#{id}" 
			
				data-target="#input-group-datepicker-#{id}" placeholder="(vide)" />			

			
			<div class="input-group-append" data-target="#input-group-datepicker-#{id}"
				data-toggle="datetimepicker">
				<div class="input-group-text">
					<i class="fa fa-calendar"></i>
				</div>
			</div>
			<h:message id="message-#{id}" for="input-#{id}" errorClass="invalid-feedback" />
			
			
			
		</div>
		
		<script type="text/javascript">
     	 $(function () {
     		$.fn.datetimepicker.Constructor.Default = $.extend({}, $.fn.datetimepicker.Constructor.Default, {
				//  Prend a string. Les valeurs valides sont 'days', 'months', 'years'et'decades'
	      			viewMode : 'days',
	      			locale : moment.locale('fr'),
		            format: 'L',
		            boutons : {
	       		  		showToday: true,
	       		  	    showClear: true,
	       		  	    showClose: true
	       		  		
	       		   	 },
	       		   	 sideBySide: true, 
	       		   	 debug: true 
	      		});
     		
     		$('#input-#{id}').datetimepicker({ 
     			
     		});
        });
  	</script>


	</h:panelGroup>
	
	
	
</ui:composition>
